

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Frequently Asked Questions (FAQ) &#8212; repo2docker 0.10.0 documentation</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="_static/sphinx-bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link href="_static/css/custom.css" rel="stylesheet">
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How-to Guides" href="howto/index.html" />
    <link rel="prev" title="Using repo2docker" href="usage.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">

<a class="navbar-brand" href="index.html">
  <img src="_static/logo.png" class="logo" alt="logo">
</a>

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div id="navbar-menu" class="collapse navbar-collapse">
  <ul id="navbar-main-elements" class="navbar-nav mr-auto">
    <li class="nav-item">
        <a class="nav-link" href="index.html">Home</a>
    </li>
    
    
    <li class="nav-item active">
        <a class="nav-link" href="getting-started/index.html">Getting Started</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="howto/index.html">How-to Guides</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="configuration/index.html">Configuring your repository</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="contributing/index.html">Contributing</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="changelog.html">Changelog</a>
    </li>
    
  </ul>
  <ul class="navbar-nav ml-auto">
    <li class="nav-item">
      <a class="nav-link" href="https://github.com/pandas-dev/pandas" target="_blank" rel="noopener">
        <span><i class="fab fa-github-alt" style="color:#333;font-size:1rem;line-height:1.25"></i></span>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="https://twitter.com/pandas_dev" target="_blank" rel="noopener">
        <span><i class="fab fa-twitter" style="color:#55acee;font-size:1rem;line-height:1.25"></i></span>
      </a>
    </li>
  </ul>
</div>
    </nav>

    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 bd-sidebar">
              

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
        
          
              <li class="">
                  <a href="install.html">Installing repo2docker</a>
              </li>
          
        
          
              <li class="">
                  <a href="usage.html">Using repo2docker</a>
              </li>
          
        
          
              <li class="active">
                  <a href="">Frequently Asked Questions (FAQ)</a>
              </li>
          
        
      
      
      
      
      
      
      
      
      
      
    </ul>

</nav>


              
          </div>

          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#how-should-i-specify-another-version-of-python" class="nav-link">How should I specify another version of Python?</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#what-versions-of-python-or-r-or-julia-are-supported" class="nav-link">What versions of Python (or R or Julia…) are supported?</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#python" class="nav-link">Python</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#julia" class="nav-link">Julia</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#r" class="nav-link">R</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#why-is-my-repository-is-failing-to-build-with-resolvepackagenotfound" class="nav-link">Why is my repository is failing to build with ResolvePackageNotFound ?</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#can-i-add-executable-files-to-the-user-s-path" class="nav-link">Can I add executable files to the user’s PATH?</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#how-do-i-set-environment-variables" class="nav-link">How do I set environment variables?</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#can-i-use-repo2docker-to-bootstrap-my-own-dockerfile" class="nav-link">Can I use repo2docker to bootstrap my own Dockerfile?</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#can-i-use-repo2docker-to-edit-a-local-host-repository-within-a-docker-environment" class="nav-link">Can I use repo2docker to edit a local host repository within a Docker environment?</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#why-is-my-r-shiny-app-not-launching" class="nav-link">Why is my R shiny app not launching?</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#why-does-repo2docker-need-to-exist-why-not-use-tool-like-source2image" class="nav-link">Why does repo2docker need to exist? Why not use tool like source2image?</a>
        </li>
    
    </ul>
</nav>
              
            </div>

          <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
              <div>
                
  <div class="section" id="frequently-asked-questions-faq">
<span id="faq"></span><h1>Frequently Asked Questions (FAQ)<a class="headerlink" href="#frequently-asked-questions-faq" title="Permalink to this headline">¶</a></h1>
<p>A collection of frequently asked questions with answers. If you have a question
and have found an answer, send a PR to add it here!</p>
<div class="section" id="how-should-i-specify-another-version-of-python">
<h2>How should I specify another version of Python?<a class="headerlink" href="#how-should-i-specify-another-version-of-python" title="Permalink to this headline">¶</a></h2>
<p>One can specify a Python version in the <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> file of a repository
or <code class="docutils literal notranslate"><span class="pre">runtime.txt</span></code> file if using <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> instead of <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code>.</p>
</div>
<div class="section" id="what-versions-of-python-or-r-or-julia-are-supported">
<h2>What versions of Python (or R or Julia…) are supported?<a class="headerlink" href="#what-versions-of-python-or-r-or-julia-are-supported" title="Permalink to this headline">¶</a></h2>
<div class="section" id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<p>Repo2docker officially supports the following versions of Python
(specified in your <a class="reference internal" href="config_files.html#environment-yml"><span class="std std-ref">environment.yml</span></a> or
<a class="reference internal" href="config_files.html#runtime-txt"><span class="std std-ref">runtime.txt</span></a> file):</p>
<ul class="simple">
<li><p>3.7 (added in 0.7, default in 0.8)</p></li>
<li><p>3.6 (default in 0.7 and earlier)</p></li>
<li><p>3.5</p></li>
<li><p>2.7</p></li>
</ul>
<p>Additional versions may work, as long as the
<a class="reference external" href="https://github.com/jupyter/repo2docker/blob/master/repo2docker/buildpacks/conda/environment.yml">base environment</a>
can be installed for your version of Python.
The most likely source of incompatibility is if one of the packages
in the base environment is not packaged for your Python,
either because the version of the package is too new and your chosen Python is too old,
or vice versa.</p>
<p>I Python 2.7 is specified, a separate environment for the kernel will be
installed with Python 2. The notebook server will run in the default Python 3.7
environment.</p>
</div>
<div class="section" id="julia">
<h3>Julia<a class="headerlink" href="#julia" title="Permalink to this headline">¶</a></h3>
<p>All Julia versions since Julia 0.7.0 are supported via a <a class="reference internal" href="config_files.html#project-toml"><span class="std std-ref">Project.toml</span></a>
file, and this is the recommended way to install Julia environments.
Julia versions 0.6.x and earlier are supported via a <a class="reference internal" href="config_files.html#require"><span class="std std-ref">REQUIRE</span></a> file.</p>
</div>
<div class="section" id="r">
<h3>R<a class="headerlink" href="#r" title="Permalink to this headline">¶</a></h3>
<p>The default version of R is currently R 3.6.1. You can select the version of
R you want to use by specifying it in the <a class="reference internal" href="config_files.html#runtime-txt"><span class="std std-ref">runtime.txt</span></a>
file.</p>
<p>We support R versions 3.4, 3.5 and 3.6.</p>
</div>
</div>
<div class="section" id="why-is-my-repository-is-failing-to-build-with-resolvepackagenotfound">
<h2>Why is my repository is failing to build with <code class="docutils literal notranslate"><span class="pre">ResolvePackageNotFound</span></code> ?<a class="headerlink" href="#why-is-my-repository-is-failing-to-build-with-resolvepackagenotfound" title="Permalink to this headline">¶</a></h2>
<p>If you used <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">env</span> <span class="pre">export</span></code> to generate your <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> it will
generate a list of packages and versions of packages that is pinned to platform
specific versions. These very specific versions are not available in the linux
docker image used by <code class="docutils literal notranslate"><span class="pre">repo2docker</span></code>. A typical error message will look like
the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Step</span> <span class="mi">39</span><span class="o">/</span><span class="mi">44</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">conda</span> <span class="n">env</span> <span class="n">update</span> <span class="o">-</span><span class="n">n</span> <span class="n">root</span> <span class="o">-</span><span class="n">f</span> <span class="s2">&quot;environment.yml&quot;</span> <span class="o">&amp;&amp;</span> <span class="n">conda</span> <span class="n">clean</span> <span class="o">-</span><span class="n">tipsy</span> <span class="o">&amp;&amp;</span> <span class="n">conda</span> <span class="nb">list</span> <span class="o">-</span><span class="n">n</span> <span class="n">root</span>
<span class="o">---&gt;</span> <span class="n">Running</span> <span class="ow">in</span> <span class="n">ebe9a67762e4</span>
<span class="n">Solving</span> <span class="n">environment</span><span class="p">:</span> <span class="o">...</span><span class="n">working</span><span class="o">...</span> <span class="n">failed</span>

<span class="n">ResolvePackageNotFound</span><span class="p">:</span>
<span class="o">-</span> <span class="n">jsonschema</span><span class="o">==</span><span class="mf">2.6</span><span class="o">.</span><span class="mi">0</span><span class="o">=</span><span class="n">py36hb385e00_0</span>
<span class="o">-</span> <span class="n">libedit</span><span class="o">==</span><span class="mf">3.1</span><span class="o">.</span><span class="mi">20181209</span><span class="o">=</span><span class="n">hb402a30_0</span>
<span class="o">-</span> <span class="n">tornado</span><span class="o">==</span><span class="mf">5.1</span><span class="o">.</span><span class="mi">1</span><span class="o">=</span><span class="n">py36h1de35cc_0</span>
<span class="o">...</span>
</pre></div>
</div>
<p>We recommend to use <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">env</span> <span class="pre">export</span> <span class="pre">--no-builds</span> <span class="pre">-f</span> <span class="pre">environment.yml</span></code> to export
your environment and then edit the file by hand to remove platform specific
packages like <code class="docutils literal notranslate"><span class="pre">appnope</span></code>.</p>
<p>See <a class="reference internal" href="howto/export_environment.html#export-environment"><span class="std std-ref">How to automatically create a environment.yml that works with repo2docker</span></a> for a recipe on how to create strict exports of
your environment that will work with <code class="docutils literal notranslate"><span class="pre">repo2docker</span></code>.</p>
</div>
<div class="section" id="can-i-add-executable-files-to-the-user-s-path">
<h2>Can I add executable files to the user’s PATH?<a class="headerlink" href="#can-i-add-executable-files-to-the-user-s-path" title="Permalink to this headline">¶</a></h2>
<p>Yes! With a <a class="reference internal" href="config_files.html#postbuild"><span class="std std-ref">postBuild - Run code after installing the environment</span></a> file, you can place any files that should be called
from the command line in the folder <code class="docutils literal notranslate"><span class="pre">~/.local/</span></code>. This folder will be
available in a user’s PATH, and can be run from the command line (or as
a subsequent build step.)</p>
</div>
<div class="section" id="how-do-i-set-environment-variables">
<h2>How do I set environment variables?<a class="headerlink" href="#how-do-i-set-environment-variables" title="Permalink to this headline">¶</a></h2>
<p>To configure environment variables for all users of a repository use the
<a class="reference internal" href="config_files.html#start"><span class="std std-ref">start</span></a> configuration file.</p>
<p>When running repo2docker locally you can use the <code class="docutils literal notranslate"><span class="pre">-e</span></code> or <code class="docutils literal notranslate"><span class="pre">--env</span></code> command-line
flag for each variable that you want to define.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">jupyter-repo2docker</span> <span class="pre">-e</span> <span class="pre">VAR1=val1</span> <span class="pre">-e</span> <span class="pre">VAR2=val2</span> <span class="pre">...</span></code></p>
</div>
<div class="section" id="can-i-use-repo2docker-to-bootstrap-my-own-dockerfile">
<h2>Can I use repo2docker to bootstrap my own Dockerfile?<a class="headerlink" href="#can-i-use-repo2docker-to-bootstrap-my-own-dockerfile" title="Permalink to this headline">¶</a></h2>
<p>No, you can’t.</p>
<p>If you pass the <code class="docutils literal notranslate"><span class="pre">--debug</span></code> flag to <code class="docutils literal notranslate"><span class="pre">repo2docker</span></code>, it outputs the
intermediate Dockerfile that is used to build the docker image. While
it is tempting to copy this as a base for your own Dockerfile, that is
not supported &amp; in most cases will not work. The <code class="docutils literal notranslate"><span class="pre">--debug</span></code> output is
just our intermediate generated Dockerfile, and is meant to be built
in a very specific way.  Hence the output of <code class="docutils literal notranslate"><span class="pre">--debug</span></code> can not be
built with a normal <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">build</span> <span class="pre">-t</span> <span class="pre">.</span></code> or similar traditional
docker command.</p>
<p>Check out the <a class="reference external" href="http://github.com/binder-examples/">binder-examples</a> GitHub
organization for example repositories you can copy &amp; modify for your own use!</p>
</div>
<div class="section" id="can-i-use-repo2docker-to-edit-a-local-host-repository-within-a-docker-environment">
<h2>Can I use repo2docker to edit a local host repository within a Docker environment?<a class="headerlink" href="#can-i-use-repo2docker-to-edit-a-local-host-repository-within-a-docker-environment" title="Permalink to this headline">¶</a></h2>
<p>Yes: use the <code class="docutils literal notranslate"><span class="pre">--editable</span></code> or <code class="docutils literal notranslate"><span class="pre">-E</span></code> flag (don’t confuse this with
the <code class="docutils literal notranslate"><span class="pre">-e</span></code> flag for environment variables), and run repo2docker on a
local repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">repo2docker</span> <span class="o">-</span><span class="n">E</span> <span class="n">my</span><span class="o">-</span><span class="n">repository</span><span class="o">/</span>
</pre></div>
</div>
<p>This builds a Docker container from the files in that repository
(using, for example, a <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> or <code class="docutils literal notranslate"><span class="pre">install.R</span></code> file),
then runs that container, while connecting the working directory
inside the container to the local repository outside the
container. For example, in case there is a notebook file (<code class="docutils literal notranslate"><span class="pre">.ipynb</span></code>),
this will open in a local webbrowser, and one can edit it and save
it. The resulting notebook is updated in both the Docker container and
the local repository. Once the container is exited, the changed file
will still be in the local repository.</p>
<p>This allows for easy testing of the container while debugging some
items, as well as using a fully customizable container to edit
notebooks (among others).</p>
<div class="alert alert-info">
<p class="admonition-title">Note</p>
<p>Editable mode is a convenience option that will bind the
repository to the container working directory (usually
<code class="docutils literal notranslate"><span class="pre">$HOME</span></code>). If you need to mount to a different location in
the container, use the <code class="docutils literal notranslate"><span class="pre">--volumes</span></code> option instead. Similarly,
for a fully customized user Dockerfile, this option is not
guaranteed to work.</p>
</div>
</div>
<div class="section" id="why-is-my-r-shiny-app-not-launching">
<h2>Why is my R shiny app not launching?<a class="headerlink" href="#why-is-my-r-shiny-app-not-launching" title="Permalink to this headline">¶</a></h2>
<p>If you are trying to run an R shiny app using the <code class="docutils literal notranslate"><span class="pre">/shiny/folder_containing_shiny</span></code>
url option, but the launch returns “The application exited during initialization.”,
there might be something wrong with the specification of the app. One way of debugging
the app in the container is by running the <code class="docutils literal notranslate"><span class="pre">rstudio</span></code> url, open either the ui or
server file for the app, and run the app in the container rstudio. This way you can
see the rstudio logs as it tries to initialise the shiny app. If you a missing a
package or other dependency for the container, this will be obvious at this stage.</p>
</div>
<div class="section" id="why-does-repo2docker-need-to-exist-why-not-use-tool-like-source2image">
<h2>Why does repo2docker need to exist? Why not use tool like source2image?<a class="headerlink" href="#why-does-repo2docker-need-to-exist-why-not-use-tool-like-source2image" title="Permalink to this headline">¶</a></h2>
<p>The Jupyter community believes strongly in building on top of pre-existing tools whenever
possible (this is why repo2docker buildpacks largely build off of patterns that already
exist in the data analytics community). We try to perform due-diligence and search for
other communities to leverage and help, but sometimes it makes the most sense to build
our own new tool. In the case of repo2docker, we spent time integrating with a pre-existing
tool called <a class="reference external" href="https://github.com/openshift/source-to-image/">source2image</a>.
This is an excellent open tool for containerization, but we
ultimately decided that it did not fit the use-case we wanted to address. For more information,
<a class="reference external" href="https://github.com/yuvipanda/words/blob/fd096dd49d87e624acd8bdf6d13c0cecb930bb3f/content/post/why-not-s2i.md">here</a> is a short blog post about the decision and the reasoning behind it.</p>
</div>
</div>


              </div>
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="usage.html" title="previous page">Using <code class="docutils literal notranslate"><span class="pre">repo2docker</span></code></a>
    <a class='right-next' id="next-link" href="howto/index.html" title="next page">How-to Guides</a>

              </div>
          </main>

      </div>
    </div><script>
    // TOC sidebar - add "active" class to parent list
    //
    // Bootstrap's scrollspy adds the active class to the <a> link,
    // but for the automatic collapsing we need this on the parent list item.
    //
    // The event is triggered on "window" (and not the nav item as documented),
    // see https://github.com/twbs/bootstrap/issues/20086
    $(window).on("activate.bs.scrollspy", function(){
    var navLinks = document.querySelectorAll('#bd-toc-nav a');
    for (var i = 0; i < navLinks.length; i++) {
        var navLink = navLinks[i];
        navLink.parentElement.classList.remove('active');
    }
    var navLinks = document.querySelectorAll('#bd-toc-nav a.active');
    for (var i = 0; i < navLinks.length; i++) {
        var navLink = navLinks[i];
        navLink.parentElement.classList.add('active');
    }
    });

    /**
     * Use left and right arrow keys to navigate forward and backwards.
    */
    const LEFT_ARROW_KEYCODE = 37
    const RIGHT_ARROW_KEYCODE = 39

    const getPrevUrl = () => document.getElementById('prev-link').href
    const getNextUrl = () => document.getElementById('next-link').href
    const initPageNav = (event) => {
        const keycode = event.which

        if (keycode === LEFT_ARROW_KEYCODE) {
            window.location.href = getPrevUrl();
        } else if (keycode === RIGHT_ARROW_KEYCODE) {
            window.location.href = getNextUrl();
        }
    };

    var keyboardListener = false;
    $( document ).ready(() => {
        if (keyboardListener === false) {
            document.addEventListener('keydown', initPageNav)
            keyboardListener = true;
        }
    });
</script>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Project Jupyter.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>